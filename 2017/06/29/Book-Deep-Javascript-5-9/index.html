<!DOCTYPE html>
<html lang=en>
<head>
    <meta charset="utf-8">
    
    <title>[Book Summary] 속깊은 Javascript 5/9 | Soopdop&#39;s note</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="Chapter 5. 디자인 패턴 실용이 책에서는 자주 볼 수있는 유용한 패턴을 몇가지 소개하고 있다. 5.2. 모듈 패턴 소스를 모듈 단위로 관리하기 위해서 쓰이는 패턴이다. 대표적인 예로 jQuery의 $를 들 수 있다.  기본 틀1234567(function (window) &amp;#123;    var myLibrary = &amp;#123;        me">
<meta name="keywords" content="javascript, Book Summary">
<meta property="og:type" content="article">
<meta property="og:title" content="[Book Summary] 속깊은 Javascript 5&#x2F;9">
<meta property="og:url" content="http://soopdop.github.io/2017/06/29/Book-Deep-Javascript-5-9/index.html">
<meta property="og:site_name" content="Soopdop&#39;s note">
<meta property="og:description" content="Chapter 5. 디자인 패턴 실용이 책에서는 자주 볼 수있는 유용한 패턴을 몇가지 소개하고 있다. 5.2. 모듈 패턴 소스를 모듈 단위로 관리하기 위해서 쓰이는 패턴이다. 대표적인 예로 jQuery의 $를 들 수 있다.  기본 틀1234567(function (window) &amp;#123;    var myLibrary = &amp;#123;        me">
<meta property="og:locale" content="en">
<meta property="og:image" content="http://soopdop.github.io/2017/06/29/Book-Deep-Javascript-5-9/cover.jpg">
<meta property="og:image" content="http://soopdop.github.io/2017/06/29/Book-Deep-Javascript-5-9/eventflow.png">
<meta property="og:image" content="http://soopdop.github.io/2017/06/29/Book-Deep-Javascript-5-9/fibonacci.jpg">
<meta property="og:updated_time" content="2017-08-17T08:57:15.273Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="[Book Summary] 속깊은 Javascript 5&#x2F;9">
<meta name="twitter:description" content="Chapter 5. 디자인 패턴 실용이 책에서는 자주 볼 수있는 유용한 패턴을 몇가지 소개하고 있다. 5.2. 모듈 패턴 소스를 모듈 단위로 관리하기 위해서 쓰이는 패턴이다. 대표적인 예로 jQuery의 $를 들 수 있다.  기본 틀1234567(function (window) &amp;#123;    var myLibrary = &amp;#123;        me">
<meta name="twitter:image" content="http://soopdop.github.io/2017/06/29/Book-Deep-Javascript-5-9/cover.jpg">
    

    

    

    <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/libs/open-sans/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/libs/jquery/2.1.3/jquery.min.js"></script>
    
    
    
    
        <script type="text/javascript">
(function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-80990910-1', 'auto');
ga('send', 'pageview');

</script>
    
    
    


</head>

<body>
    <div id="container">
        <header id="header">
    <div id="header-main" class="header-inner">
        <div class="outer">
            <a href="/" id="logo">
                
                <span class="site-title">Soopdop&#39;s note</span>
            </a>
            <nav id="main-nav">
                
                    <a class="main-nav-link" href="/about">About</a>
                
                    <a class="main-nav-link" href="/archives">Archives</a>
                
            </nav>
            
                
                <nav id="sub-nav">
                    <div class="profile" id="profile-nav">
                        <a id="profile-anchor" href="javascript:;">
                            <img class="avatar" src="/css/images/cloudy.png" />
                            <i class="fa fa-caret-down"></i>
                        </a>
                    </div>
                </nav>
            
            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
        </div>
    </div>
    <div id="main-nav-mobile" class="header-sub header-inner">
        <table class="menu outer">
            <tr>
                
                    <td><a class="main-nav-link" href="/about">About</a></td>
                
                    <td><a class="main-nav-link" href="/archives">Archives</a></td>
                
                <td>
                    
    <div class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search" />
    </div>

                </td>
            </tr>
        </table>
    </div>
</header>

        <div class="outer">
            
                

<aside id="profile">
    <div class="inner profile-inner">
        <div class="base-info profile-block">
            <img id="avatar" src="/css/images/cloudy.png" />
            <h2 id="name">Soopdop</h2>
            <h3 id="title">Software Engineer</h3>
            <span id="location"><i class="fa fa-map-marker"></i>Seoul, Korea</span>
            <a id="follow" target="_blank" href="https://www.linkedin.com/in/soondong-park">FOLLOW</a>
        </div>
        <div class="article-info profile-block">
            <div class="article-info-block">
                249
                <span>posts</span>
            </div>
            <div class="article-info-block">
                15
                <span>tags</span>
            </div>
        </div>
        
        <div class="profile-block social-links">
            <table>
                <tr>
                    
                    
                    <td>
                        <a href="https://github.com/soopdop" target="_blank" title="github" class=tooltip>
                            <i class="fa fa-github"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="https://www.linkedin.com/in/soondong-park" target="_blank" title="linkedin" class=tooltip>
                            <i class="fa fa-linkedin"></i>
                        </a>
                    </td>
                    
                </tr>
            </table>
        </div>
        
    </div>
</aside>

            
            <section id="main"><article id="blog-Book-Deep-Javascript-5-9" class="article article-type-blog" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
            [Book Summary] 속깊은 Javascript 5/9
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2017/06/29/Book-Deep-Javascript-5-9/">
            <time datetime="2017-06-29T09:34:55.000Z" itemprop="datePublished">2017-06-29</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/programming/">programming</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/javascript-Book-Summary/">javascript, Book Summary</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <img src="/2017/06/29/Book-Deep-Javascript-5-9/cover.jpg"> 
<h1 id="Chapter-5-디자인-패턴-실용"><a href="#Chapter-5-디자인-패턴-실용" class="headerlink" title="Chapter 5. 디자인 패턴 실용"></a>Chapter 5. 디자인 패턴 실용</h1><p>이 책에서는 자주 볼 수있는 유용한 패턴을 몇가지 소개하고 있다.</p>
<h2 id="5-2-모듈-패턴"><a href="#5-2-모듈-패턴" class="headerlink" title="5.2. 모듈 패턴"></a>5.2. 모듈 패턴</h2><blockquote>
<p>소스를 모듈 단위로 관리하기 위해서 쓰이는 패턴이다. 대표적인 예로 jQuery의 <code>$</code>를 들 수 있다.</p>
</blockquote>
<figure class="highlight javascript"><figcaption><span>기본 틀</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">window</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> myLibrary = &#123;</span><br><span class="line">        method1 : <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;,</span><br><span class="line">        method2 : <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">window</span>.myLibrary = myLibrary <span class="comment">// 글로벌 변수로 등록.</span></span><br><span class="line">&#125;(<span class="built_in">window</span>));</span><br></pre></td></tr></table></figure>
<p>위와 같이 <code>window</code> 에 등록하는 방법, 아래와 같이 리턴을 받아서 할당하는 방법이 있다.</p>
<figure class="highlight javascript"><figcaption><span>리턴 받아서 글로벌 변수에 할당하기</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myLibrary = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        method1 : <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;,</span><br><span class="line">        method2 : <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;());</span><br></pre></td></tr></table></figure>
<h2 id="5-2-이벤트-델리게이션-패턴"><a href="#5-2-이벤트-델리게이션-패턴" class="headerlink" title="5.2. 이벤트 델리게이션 패턴"></a>5.2. 이벤트 델리게이션 패턴</h2><p>이 책에서는 정의를 제대로 내리지 않고 유용한 상황을 먼저 설명하고 있다. 아래는 내가 정의한 이벤트 델리게이션이다.</p>
<blockquote>
<p>“이벤트 델리게이션 패턴이란 다수의 element에 각각에 event handler를 할당하는 것이 아니라, 그 것을 감싸는 부모 element에 하나의 event handler만 할당하여 처리하는 방식이다. 이 때, 조건문을 통해서 각 element의 이벤트를 처리한다.” </p>
</blockquote>
<h3 id="조사-이벤트-버블링과-캡쳐링"><a href="#조사-이벤트-버블링과-캡쳐링" class="headerlink" title="(조사) 이벤트 버블링과 캡쳐링"></a>(조사) 이벤트 버블링과 캡쳐링</h3><p>이벤트 버블링과 캡쳐링은 이벤트가 전파되는 방향을 개발자가 설정하는 것이 아니다. 이미 브라우저는 특정 순서로 이벤트를 전파하고 있다. 이 때, 개발자가 부모와 자식 element에 각각 이벤트 핸들러를 등록해 두었을 경우, 브라우저가 전파하는 순서대로 그 이벤트 핸들러가 호출된다. 같은 element에 <code>addEventListener(event, func1, true)</code>, <code>addEventListener(event, func2, false)</code>로 capturing과 bubbling되는 이벤트를 처리할 수 있는 것은 w3c의 표준에 의해서 브라우저가 이미 두개의 흐름을 만들어 두었기 때문이다. 따라서 위와 같이 하나의 element에 capturing과 bubbling 이벤트 핸들러를 등록해 놓을 수 있고, 그렇이 하면 capturing으로 설정한 이벤트 핸들러인 func1이 먼저 호출된다. 그 이유는 다음에서 설명된다. </p>
<h4 id="조사-왜-버블링인가"><a href="#조사-왜-버블링인가" class="headerlink" title="(조사) 왜 버블링인가?"></a>(조사) 왜 버블링인가?</h4><p>책에서는 자식 element로부터 부모 element로 이벤트가 전파되는 것을 버블링이라고 설명한다. 이 설명은 그냥 외우라는 것 그 이상 그 이하도 아니다. 한참을 찾은 끝에 <a href="https://www.kirupa.com/html5/event_capturing_bubbling_javascript.htm" target="_blank" rel="noopener">이 곳</a>에서 버블이라고 부르는 이유를 깨달을 수 있었다. 가장 헷갈렸던 부분은 bubble은 위로 올라가는데, 레이어의 순서를 기준으로 볼때 자식은 위쪽에 있기에 반대라고 생각했다. 하지만, 그 것 보다는 Tree를 생각해야 한다. HTML과 BODY를 최상위에 놓고 아래로 자식 element들을 트리 형태로 나열 한 그림을 놓고 볼때, 이벤트 버블링이 무엇인지 직관적으로 이해할 수 있다. 그 트리에서 가장 자식이 되는 element부터 최상위 부모까지 전달되며 버블처럼 올라가는 모습이 이벤트 버블링이다.   </p>
<h4 id="조사-왜-캡쳐링인가"><a href="#조사-왜-캡쳐링인가" class="headerlink" title="(조사) 왜 캡쳐링인가?"></a>(조사) 왜 캡쳐링인가?</h4><p>열심히 검색해 봤으나 딱히 훌륭한 이유를 찾지는 못했다. 다만, 이벤트가 target으로부터 시작되는 버블링과는 달리, 어딘가로부터 시작된 이벤트가 여러 element를 거쳐 최종적으로 이벤트가 target으로 오게 되는 것으로 이해해 볼 수 있다. 즉 이벤트가 발생한 target element로부터 생겨난 버블이 뽀글뽀글 올라가는 것과는 정반대로, 최종적으로 target element로 가는 event를 그 조상(window,html,body)들이 가로채(capturing) 수 있다고 이해하면 될 것같다.  </p>
<h4 id="조사-이벤트-캡처링과-버블링은-어떻게-동작하는가"><a href="#조사-이벤트-캡처링과-버블링은-어떻게-동작하는가" class="headerlink" title="(조사) 이벤트 캡처링과 버블링은 어떻게 동작하는가?"></a>(조사) 이벤트 캡처링과 버블링은 어떻게 동작하는가?</h4><p>넷스케이프와 마이크로소프트가 각각 capturing과 bubbling방식 만을 지원했다. 하지만 W3C 표준에서는 두가지를 다 지원하도록 만들었다. 첫번째 단계에서는 capturing방식으로 이벤트를 전파하고, target에 도착한 뒤, bubbling방식으로 다시 이벤트를 전파한다. </p>
<img src="/2017/06/29/Book-Deep-Javascript-5-9/eventflow.png" title="Event flow">
<p>아래 소스와 같이 capturing과 bubbling 둘 다를 처리하도록 만들고 테스트 해 보면, 전체 순서를 파악할 수 있다.    </p>
<figure class="highlight html"><figcaption><span>이벤트 캡처링과 버블링</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">  body * &#123;</span></span><br><span class="line"><span class="undefined">    margin: 10px;</span></span><br><span class="line"><span class="undefined">    border: 1px solid blue;</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span>FORM</span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span>DIV</span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>P<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">for</span>(<span class="keyword">let</span> elem <span class="keyword">of</span> <span class="built_in">document</span>.querySelectorAll(<span class="string">'*'</span>)) &#123;</span></span><br><span class="line"><span class="javascript">    elem.addEventListener(<span class="string">"click"</span>, e =&gt; alert(<span class="string">`Capturing: <span class="subst">$&#123;elem.tagName&#125;</span>`</span>), <span class="literal">true</span>);</span></span><br><span class="line"><span class="javascript">    elem.addEventListener(<span class="string">"click"</span>, e =&gt; alert(<span class="string">`Bubbling: <span class="subst">$&#123;elem.tagName&#125;</span>`</span>));</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="이벤트-델리게이션-예제"><a href="#이벤트-델리게이션-예제" class="headerlink" title="이벤트 델리게이션 예제"></a>이벤트 델리게이션 예제</h4><iframe scrolling="no" width="100%" height="300" src="//jsfiddle.net/sa0e8L8q/embedded/js,html,result/dark" frameborder="0" allowfullscreen></iframe>
<h4 id="그-밖에-이벤트-처리를-위해서-알아야-할-함수"><a href="#그-밖에-이벤트-처리를-위해서-알아야-할-함수" class="headerlink" title="그 밖에 이벤트 처리를 위해서 알아야 할 함수"></a>그 밖에 이벤트 처리를 위해서 알아야 할 함수</h4><h5 id="e-stopPropagation"><a href="#e-stopPropagation" class="headerlink" title="e.stopPropagation()"></a>e.stopPropagation()</h5><p>위 예제에서 stopPropagation 함수는 그다지 쓸모가 없다. 다음과 같은 경우에 사용한다. 부모 element인 <code>controlPanel</code>에 클릭이나 드래그를 할 수 있도록 만든다고 가정한다. 이 때, <code>controlPanel</code>에 이벤트 핸들러를 할당한다면, 그 자식인 play 버튼을 눌러도 이벤트 버블링에 의해서 부모 element인 <code>controlPanel</code>의 핸들러가 호출될 것이다. 이러한 상황을 막기 위해서 <code>stopPropagation()</code>을  사용한다.</p>
<h5 id="e-stopImmediatePropagation"><a href="#e-stopImmediatePropagation" class="headerlink" title="e.stopImmediatePropagation()"></a>e.stopImmediatePropagation()</h5><p>만약 하나의 target element에 두개 이상의 이벤트 핸들러가 할당되어 있을 경우, 할당한 순서대로 호출된다. 그런데 <code>stopPropagation()</code>으로는 하위나 상위 element로의 이벤트 전달은 막을 수 있어도, 같은 엘리멘트에 등록되어있는 이벤트 핸들러의 호출은 막지 못한다. 이 때, 사용하는 것이  <code>stopImmediatePropagation()</code>이다.</p>
<iframe scrolling="no" width="100%" height="300" src="//jsfiddle.net/8jg05urm/embedded/js,html,result/dark" frameborder="0" allowfullscreen></iframe>
<h5 id="e-preventDefault"><a href="#e-preventDefault" class="headerlink" title="e.preventDefault()"></a>e.preventDefault()</h5><p>기본적으로 처리하는 이벤트를 막는다. 예를 들면, <code>&lt;a&gt;</code>의 경우 클릭하면 특정 url로 이동하게 되어있다. <code>&lt;a&gt;</code>가 다른 동작을 하도록 만들려면  <code>preventDefault()</code> 를 사용해야 한다.</p>
<h2 id="5-3-프락시-패턴"><a href="#5-3-프락시-패턴" class="headerlink" title="5.3. 프락시 패턴"></a>5.3. 프락시 패턴</h2><p>이 책은 직접적인 정의를 내리지 않고, <strong>“X란 일반적으로 이런 것은 이런 곳에 쓰이는데, 이러한 것을 X라 한다.”</strong>는 패턴을 사용한다–; 자꾸 인터넷을 찾아봐야 하게 만드는 책이라는 생각이 든다. Javascript에서는 Proxy를 객체로 구현하여 사용하며, 다음의 Proxy 객체에 대한 나의 정의이다. </p>
<blockquote>
<p>Javascript에서의 Proxy 객체는 특정 객체들의 인터페이스로써 이용되는 객체이다.</p>
</blockquote>
<p>약간의 데코레이터 패턴과 그 모양새과 목적면에서 섞여 있는 듯하다. 다음과 같은 목적으로 사용할 수 있다.</p>
<ol>
<li>델리게이션 패턴 조합에 사용 </li>
<li>캐시 기능 구현에 사용</li>
<li>http 요청의 제어에 사용</li>
<li>래퍼 기능 구현에 사용</li>
</ol>
<h3 id="“델리게이션-패턴-조합에-사용”"><a href="#“델리게이션-패턴-조합에-사용”" class="headerlink" title="“델리게이션 패턴 조합에 사용”"></a>“델리게이션 패턴 조합에 사용”</h3><p>델리게이션 패턴을 구현할 때는 안쪽에 <code>if</code> 문을 사용해서 event와 target에 따른 분기를 해주는 것이 일반적인데, proxy 객체를 구현해서 좀 더 깔끔하게 만들 수 있다. 그리고 아래의 예제와 같이 구현하는 이유는 더 명확한 모듈화 가 가능하다는 이유에 인 것 같다. <code>eventHandler</code>는 이벤트를 처리해주는 역할만 하고, <code>proxy</code>는 중계자 역할, <code>controllerObj</code> 는 실제로 동작하는 루틴을 가진 객체이다. </p>
<iframe scrolling="no" width="100%" height="300" src="//jsfiddle.net/jy6g3btz/embedded/js,html,result/dark" frameborder="0" allowfullscreen></iframe>
<h3 id="“캐시-기능-구현에-사용”"><a href="#“캐시-기능-구현에-사용”" class="headerlink" title="“캐시 기능 구현에 사용”"></a>“캐시 기능 구현에 사용”</h3><p>성능에 영향을 미치는 작업을 수행하는 객체에 대한 proxy객체를 만들어 캐시 기능을 구현할 때 쓰인다. 다음은 직접 작성한 예제. </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> phoneBook = &#123;</span><br><span class="line">  searchUserByName(user) &#123;</span><br><span class="line">    <span class="comment">// 성능에 영향을 미치는 작업</span></span><br><span class="line">    <span class="keyword">return</span> userInfo;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> proxyPhoneBookForCache = &#123;</span><br><span class="line">  cache :  &#123;&#125;,</span><br><span class="line">  searchUserByName : <span class="function"><span class="keyword">function</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (cache.hasOwnProperty(value)) &#123;</span><br><span class="line">      <span class="keyword">return</span> cache[value];</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      cache[value] = phoneBook.searchUserByName(value);</span><br><span class="line">      <span class="keyword">return</span> cache[value];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="http-요청의-제어에-사용"><a href="#http-요청의-제어에-사용" class="headerlink" title="http 요청의 제어에 사용"></a>http 요청의 제어에 사용</h3><p>proxy를 이용하여 http요청을 한꺼번에 모아서 보내거나, 한번의 요청을 여러번의 요청으로 나누어 보내는 것이</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="5-4-데코레이터-패턴"><a href="#5-4-데코레이터-패턴" class="headerlink" title="5.4. 데코레이터 패턴"></a>5.4. 데코레이터 패턴</h2><blockquote>
<p>데코레이터란 특정 객체에 추가적인 기능을 동적으로 추가하는 패턴이다. </p>
</blockquote>
<h3 id="form-validation을-위한-데코레이터"><a href="#form-validation을-위한-데코레이터" class="headerlink" title="form validation을 위한 데코레이터"></a>form validation을 위한 데코레이터</h3><p>아래의 예제가 decorator pattern인지는 잘 모르겠다. 오히려 인터넷에서 찾은 <a href="http://robdodson.me/javascript-design-patterns-decorator/" target="_blank" rel="noopener">js pattern decorator</a>가 조금 더 명확한 것으로 보이나 확실하지는 않. 위 블로그에서는 기본 validator 객체에 <code>decorate()</code>를 통해서 필요한 기능을 사용하겠다고 동적으로 선언했다. 그런데 이 예제에서는 <code>decorate()</code>가 미리 정해진 규칙을 추가하는 용도로 쓰이기 때문에 좀 이상하다. 그래도 validator를 모듈화 하는데는 유용할 것으로 보인다.    </p>
<iframe scrolling="no" width="100%" height="300" src="//jsfiddle.net/nkwegfxy/embedded/js,html,result/dark" frameborder="0" allowfullscreen></iframe>
<h3 id="객체-기반-데코레이터"><a href="#객체-기반-데코레이터" class="headerlink" title="객체 기반 데코레이터"></a>객체 기반 데코레이터</h3><p>자바를 기반으로 한 데코레이터 패턴은 다음 링크에 잘 나와있다(<a href="http://jusungpark.tistory.com/9" target="_blank" rel="noopener">http://jusungpark.tistory.com/9</a>) 아래의 예제에서도 <code>Computer</code> 객체를 <code>decorate()</code>에 통과 시켜서 <strong>*꾸며진 Computer</strong>를 만들어 낸다. <code>Decorator</code> 객체는 각종 부품에 대한 정보를 관리하는 객체이며, 각 <code>Computer</code>객체는 <code>Decorator</code> 객체로 부터 부품 정보를 이용한다. 이 패턴의 좋은 점은 특정 객체에서 부품 리스트를 관리한다는 것이고, 부품의 가격이 변한다 해도 그 것에 대한 레퍼런스를 가진 <code>Computer</code> 객체는 항상 최신 정보를 가질 수 있다는 것이다. 하지만, 그렇게 하려면, 굳이 들어있는 totlal price를 저장하는 부분을 없애야 할 것으로 보인. </p>
<iframe scrolling="no" width="100%" height="300" src="//jsfiddle.net/ujvaa6q7/embedded/js,result/dark" frameborder="0" allowfullscreen></iframe>
<h3 id="함수-기반-데코레이터"><a href="#함수-기반-데코레이터" class="headerlink" title="함수 기반 데코레이터"></a>함수 기반 데코레이터</h3><p>객체가 가진 각 함수들을 꾸민다. before, after에 기능을 넣어 각 함수의 시작과 끝 시간을 보여준다. </p>
<iframe scrolling="no" width="100%" height="300" src="//jsfiddle.net/nmd7dfg2/embedded/js,result/dark" frameborder="0" allowfullscreen></iframe>
<h2 id="5-5-init-time-branching-패턴"><a href="#5-5-init-time-branching-패턴" class="headerlink" title="5.5. init-time branching 패턴"></a>5.5. init-time branching 패턴</h2><blockquote>
<p>init-time branching이란 초기화 단계에서 분기하여 같은 함수를 환경에 따르게 다르게 정의하는 것을 의미한다. </p>
</blockquote>
<h3 id="addEventHandler와-removeEventHandler의-표준-호환성-지원"><a href="#addEventHandler와-removeEventHandler의-표준-호환성-지원" class="headerlink" title="addEventHandler와 removeEventHandler의 표준 호환성 지원"></a>addEventHandler와 removeEventHandler의 표준 호환성 지원</h3><p>IE8 이하에서는 <code>addEventListener</code>가 없다. 따라서 다음과 같이 <code>attachEvent</code>를 통해서 구현할 수 있으며, 인터넷을 검색해 보면 관련하여 많은 정보가 나온다.</p>
<figure class="highlight javascript"><figcaption><span>표준 호환을 위한 이벤트 핸들러 함수 정의</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!Element.prototype.addEventListener) &#123;</span><br><span class="line">        <span class="keyword">if</span> (Element.prototype.attachEvent) &#123;</span><br><span class="line">            Element.prototype.addEventListener = <span class="function"><span class="keyword">function</span> (<span class="params">type, fn</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">this</span>.attachEvent(<span class="string">"on"</span> + type, fn);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            Element.prototype.addEventListener = <span class="function"><span class="keyword">function</span> (<span class="params">type, fn</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">this</span>[<span class="string">"on"</span> + type] = fn;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!Element.prototype.removeEventListener) &#123;</span><br><span class="line">        <span class="keyword">if</span> (Element.prototype.detachEvent) &#123;</span><br><span class="line">            Element.prototype.removeEventListener = <span class="function"><span class="keyword">function</span> (<span class="params">type, fn</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">this</span>.detachEvent(<span class="string">"on"</span> + type, fn);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            Element.prototype.removeEventListener = <span class="function"><span class="keyword">function</span> (<span class="params">type</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">this</span>[<span class="string">"on"</span> + type] = <span class="literal">null</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;());</span><br></pre></td></tr></table></figure>
<h3 id="XMLHttpRequest-객체-호환성-지원"><a href="#XMLHttpRequest-객체-호환성-지원" class="headerlink" title="XMLHttpRequest 객체 호환성 지원"></a>XMLHttpRequest 객체 호환성 지원</h3><p>과거의 IE는 <code>XMLHttpRequest</code> 표준 함수가 없어서 <code>ActiveXObject</code>를 이용해야 했다. 이를 대비하여 브라우저에 맞는 <code>getXHR()</code>을 리턴하는 패턴이다. </p>
<figure class="highlight javascript"><figcaption><span>XMLHttpRequest 객체 호환성 지원</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getXHR</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">window</span>.XMLHttpRequest) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ActiveXObject(<span class="string">"MSXML2.XMLHTTP.6.0"</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> ActiveXObject(<span class="string">"MSXML2.XMLHTTP.3.0"</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">            alert(<span class="string">"This browser does not support XMLHttpRequest."</span>); <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="5-6-Self-defining-function-패턴"><a href="#5-6-Self-defining-function-패턴" class="headerlink" title="5.6. Self-defining function 패턴"></a>5.6. Self-defining function 패턴</h2><blockquote>
<p>어떤 코드를 최초 한번만 실행되도록 하는 패턴을 말한다.</p>
</blockquote>
<p>다음과 같은 코드로 함수 내부에서 자기 자신을 가리키는 참조 변수를 새로운 함수로 교체하는 방식으로 패턴을 구현한다. <strong>“처음에만 어떤 것을 초기화”</strong> 하거나, <strong>“중복 호출되지 않도록 막는 기능”</strong>을 구현할 때 유용하게 쓸 수 있다 글로벌 변수가 아닌 클로저를 사용할 수 있다.<br><figure class="highlight javascript"><figcaption><span>Self-defining</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 글로벌 func 선언</span></span><br><span class="line"><span class="keyword">var</span> func = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"The first."</span>);</span><br><span class="line">    <span class="comment">// 한번 호출 뒤 글로벌 func가 변경됨.</span></span><br><span class="line">    func = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"The time after first."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">func(); <span class="comment">// The first</span></span><br><span class="line">func(); <span class="comment">// The time after first </span></span><br><span class="line">func(); <span class="comment">// The time after first</span></span><br></pre></td></tr></table></figure></p>
<h2 id="5-7-메모이제이션-Memoization-패턴"><a href="#5-7-메모이제이션-Memoization-패턴" class="headerlink" title="5.7. 메모이제이션(Memoization) 패턴"></a>5.7. 메모이제이션(Memoization) 패턴</h2><blockquote>
<p>처리 시간이 필요한 작업을 “메모”해 두었다가, 나중에 사용하는 패턴.</p>
</blockquote>
<p>즉, 메모리를 소모하는 대신 속도를 빠르게 하는 방법이라할 수 있다.</p>
<h3 id="캐쉬-구현"><a href="#캐쉬-구현" class="headerlink" title="캐쉬 구현"></a>캐쉬 구현</h3><figure class="highlight javascript"><figcaption><span>Memoization패턴을 이용한 cache 구</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">searchItem</span> (<span class="params">id</span>) </span>&#123; </span><br><span class="line">        <span class="comment">// 이미 캐시에 있는 것이면 그냥 리턴한다.</span></span><br><span class="line">        <span class="keyword">if</span>(searchItem.cache.hasOwnProperty(id)) &#123;</span><br><span class="line">            <span class="keyword">return</span> searchItem.cache[id];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 캐시에 없으면 이 곳에서 http 서버로 부터 받아온다.   </span></span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="comment">// 캐시 저장 공간</span></span><br><span class="line">    searchItem.cache = &#123;&#125;;</span><br><span class="line">&#125;());</span><br></pre></td></tr></table></figure>
<h3 id="피보나치-구현"><a href="#피보나치-구현" class="headerlink" title="피보나치 구현"></a>피보나치 구현</h3><p>일반적으로 피보나치는 재귀함수로 구현한다. 아래와 같은 콜 트리가 만들어지게 된다. 하지만, 메모이제이션을 사용하면, 이미 한번 구한 값에 대해서는 또 계산을 하지 않기 때문에 훨씬 빠르다.</p>
<img src="/2017/06/29/Book-Deep-Javascript-5-9/fibonacci.jpg">
<figure class="highlight javascript"><figcaption><span>Memoization패턴을 이용한 fibonacci 구현</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fibonacci = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> memo = [<span class="number">0</span>, <span class="number">1</span>];</span><br><span class="line">  <span class="keyword">var</span> fib = <span class="function"><span class="keyword">function</span> (<span class="params">n</span>) </span>&#123;</span><br><span class="line">      <span class="comment">// 부분 결과를 저장해 둔다.</span></span><br><span class="line">      <span class="keyword">var</span> result = memo[n];</span><br><span class="line">      <span class="comment">// 부분 결과가 없을 때만 다시 호출한다. </span></span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">typeof</span> result !== <span class="string">'number'</span>) &#123;</span><br><span class="line">        result = fib(n - <span class="number">1</span>) + fib(n - <span class="number">2</span>);</span><br><span class="line">        memo[n] = result;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> result;</span><br><span class="line">    &#125;;</span><br><span class="line">  <span class="keyword">return</span> fib;</span><br><span class="line">&#125;());</span><br></pre></td></tr></table></figure>
<h3 id="메모이제이션을-위해-프로토타입-사용"><a href="#메모이제이션을-위해-프로토타입-사용" class="headerlink" title="메모이제이션을 위해 프로토타입 사용"></a>메모이제이션을 위해 프로토타입 사용</h3><p>아래와 같이 구현하면 메모이제이션을 일반화할 수 있으며, 그 것을 켜기 위해서 <code>memoize()</code>를 호출한다.</p>
<figure class="highlight javascript"><figcaption><span>Memoization패턴 구현을 위해 포로토타입 사용</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="built_in">Function</span>.prototype.memoize = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 맴버함수 안에서의 this는 그 맴버를 가진 객체이다. 즉, 여기서는 fibonacci 함수.</span></span><br><span class="line">  <span class="comment">// memo는 클로저로 유지되는 변수. 그 안에 파라미터를 인덱스로 하여 부분 결과 데이터를 저장한다.     </span></span><br><span class="line">  <span class="keyword">var</span> _this = <span class="keyword">this</span>,</span><br><span class="line">    memo = &#123;&#125;;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> argsString = <span class="built_in">JSON</span>.stringify(<span class="built_in">arguments</span>),</span><br><span class="line">      returnValue;</span><br><span class="line">    <span class="keyword">if</span> (memo.hasOwnProperty(argsString)) &#123;</span><br><span class="line">      <span class="comment">// 이미 저장한 값이면 바로 리턴.</span></span><br><span class="line">      <span class="keyword">return</span> memo[argsString];</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// 없는 값이면 fibonacci.apply() 후 저장하고 리턴.</span></span><br><span class="line">      returnValue = _this.apply(<span class="keyword">this</span>, <span class="built_in">arguments</span>);</span><br><span class="line">      memo[argsString] = returnValue;</span><br><span class="line">      <span class="keyword">return</span> returnValue;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fibonacci</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (n === <span class="number">0</span> || n === <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> n;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> fibonacci(n - <span class="number">1</span>) + fibonacci(n - <span class="number">2</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> fibonacciMemo = fibonacci.memoize();</span><br></pre></td></tr></table></figure>
<h2 id="5-8-Self-invoking-constructor-패턴"><a href="#5-8-Self-invoking-constructor-패턴" class="headerlink" title="5.8. Self-invoking constructor 패턴"></a>5.8. Self-invoking constructor 패턴</h2><blockquote>
<p>실수로 new 키워드를 생략하더라도, 그 것을 붙여서 호출해주는 방어적인 패턴</p>
</blockquote>
<p>앞 장에서 확인 했듯이 그냥 호출한 함수와 <code>new</code>의 파라미터로 호출된 함수 안에서 <code>this</code>가 가르키는 것은 다르다. 따라서, 생성자 함수를 <code>new</code> 없이 호출하면 전혀 의도 하지 않은 결과를 얻을 수 있다. 따라서 다음과 같이 내부에서 <code>new</code>를 호출하도록 처리한다. </p>
<figure class="highlight javascript"><figcaption><span>self-invoking constructor pattern</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">Employee</span>(<span class="params">name, manMonth</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!(<span class="keyword">this</span> <span class="keyword">instanceof</span> Employee)) &#123;</span><br><span class="line">      <span class="comment">// new 없이 호출 했을 때의 this는 window이다.</span></span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> Employee(name, manMonth);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// new로 호출 했을 때의 this는 새로 만들어진 객체이다.</span></span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.manMonth = manMonth;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">var</span> unikys = Employee(<span class="string">"Unikys"</span>, <span class="number">1</span>),</span><br><span class="line">    world = <span class="keyword">new</span> Employee(<span class="string">"World"</span>, <span class="number">2</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(unikys);</span><br><span class="line">  <span class="built_in">console</span>.log(world);</span><br><span class="line">&#125;());</span><br></pre></td></tr></table></figure>
<p><code>new</code> 없이 호출 했을 때, 경고 메세지를 출력해 주면 좋을 것 같다.</p>
<h2 id="5-9-콜백-패턴"><a href="#5-9-콜백-패턴" class="headerlink" title="5.9. 콜백 패턴"></a>5.9. 콜백 패턴</h2><blockquote>
<p>함수의 파라미터로에 해당 함수의 호출이 끝나고 나서 처리할 함수를 넘겨주는 패턴.</p>
</blockquote>
<p>많이 쓰는 패턴으로 설명은 생략한다. 아래는 XMLHttpRequest를 jquery의 ajax함수 처럼 구현한 예제이다.</p>
<figure class="highlight javascript"><figcaption><span>callback</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">ajax</span>(<span class="params">method, url, data, callback</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">    xhr.open(method, url);</span><br><span class="line">    xhr.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (xhr.status === <span class="number">200</span>) &#123;</span><br><span class="line">        callback.call(<span class="keyword">this</span>, xhr.responseText);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    xhr.send(data);</span><br><span class="line">  &#125;</span><br><span class="line">  ajax(<span class="string">"POST"</span>, <span class="string">"/login"</span>, <span class="string">"id=hello&amp;password=world"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">responseText</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (responseText === <span class="string">"Success"</span>) &#123;</span><br><span class="line">      alert(<span class="string">"Success to login!"</span>);</span><br><span class="line">      ajax(<span class="string">"GET"</span>, <span class="string">"/userInfo"</span>, <span class="string">"id=hello"</span>, displayUserInfo);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      alert(<span class="string">"Failed to login"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">displayUserInfo</span>(<span class="params">responseText</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">"userInfo"</span>).innerHTML = responseText;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;());</span><br></pre></td></tr></table></figure>
<h2 id="5-10-커링-Currying-패턴"><a href="#5-10-커링-Currying-패턴" class="headerlink" title="5.10. 커링(Currying) 패턴"></a>5.10. 커링(Currying) 패턴</h2><blockquote>
<p>어떤 함수의 파라미터를 일부를 미리 채워두고, 나머지 파라미터만 입력 받는 새로운 함수를 만드는 패턴.</p>
</blockquote>
<p>참고로 커링은 수학자 하스켈 커리(Haskell Curry)로 부터 유래되었다고 한다.</p>
<h4 id="간단한-커링"><a href="#간단한-커링" class="headerlink" title="간단한 커링"></a>간단한 커링</h4><p>흔히 봤던 함수 저너레이터는 커링 패턴이라 볼 수 있다.</p>
<figure class="highlight javascript"><figcaption><span>simple currying</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 원래의 함수</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> x + y;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 커링 함수</span></span><br><span class="line">    <span class="keyword">var</span> makeAdder = <span class="function"><span class="keyword">function</span> (<span class="params">x</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">y</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> sum(x, y);</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">// sum을 커링해서 adderFour가 나왔다.</span></span><br><span class="line">    <span class="keyword">var</span> adderFour = makeAdder(<span class="number">4</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(adderFour(<span class="number">1</span>)); <span class="comment">// === 5</span></span><br><span class="line">    <span class="built_in">console</span>.log(adderFour(<span class="number">5</span>)); <span class="comment">// === 9</span></span><br><span class="line">&#125;());</span><br></pre></td></tr></table></figure>
<h4 id="프로토타입을-이용한-일반화"><a href="#프로토타입을-이용한-일반화" class="headerlink" title="프로토타입을 이용한 일반화"></a>프로토타입을 이용한 일반화</h4><figure class="highlight javascript"><figcaption><span>generalization of currying</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 함수의 파라미터를 미리 설졍하는, 즉 currying을 해주는 함수.</span></span><br><span class="line">  <span class="built_in">Function</span>.prototype.curry = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 파타미터가 0이면 그냥 this(원래 함수)를 리턴한다.</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">arguments</span>.length &lt; <span class="number">1</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// arguments를 클로저 변수에 함수, 파라미터를 저장한다.</span></span><br><span class="line">    <span class="keyword">var</span> _this = <span class="keyword">this</span>,</span><br><span class="line">      args = <span class="built_in">Array</span>.prototype.slice.apply(<span class="built_in">arguments</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="comment">// 저장해둔 파라미터들과 새로 받은 파라미터를 더해서 위에서 저장한 함수를 호출하는 클로저 함수를 리턴한다. </span></span><br><span class="line">      <span class="comment">// 함수를 실행하는게 아니라 리턴한다.</span></span><br><span class="line">      <span class="keyword">return</span> _this.apply(<span class="keyword">this</span>, args.concat(<span class="built_in">Array</span>.prototype.slice.apply(<span class="built_in">arguments</span>)));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 원래의 함수</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 원래의 함수에 커링을 적용한 함수를 리턴 받음.</span></span><br><span class="line">  <span class="keyword">var</span> adderFourCurry = sum.curry(<span class="number">4</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(adderFourCurry(<span class="number">5</span>)); <span class="comment">// === 9</span></span><br><span class="line">  <span class="built_in">console</span>.log(adderFourCurry(<span class="number">10</span>)); <span class="comment">// === 14</span></span><br><span class="line">  <span class="comment">// Function 프로토타입으로 일반화 하였으므로 이것도 가능함.</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">sum4</span>(<span class="params">x, y, z, w</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x + y + z + w;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">var</span> adderCurry = sum4.curry(<span class="number">5</span>, <span class="number">1</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(adderCurry(<span class="number">2</span>, <span class="number">3</span>)); <span class="comment">// === 11</span></span><br><span class="line">&#125;());</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="단위-변환-사용"><a href="#단위-변환-사용" class="headerlink" title="단위 변환 사용"></a>단위 변환 사용</h4><p>다음과 같이 단위 변환을 위한 함수를 생성하는 것은 함수 저너레이터의 유용한 예제인듯 하다.</p>
<figure class="highlight javascript"><figcaption><span>unit conversion using currying</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 위 예제와 같은 방법 사용.</span></span><br><span class="line">  <span class="built_in">Function</span>.prototype.curry = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">arguments</span>.length &lt; <span class="number">1</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> _this = <span class="keyword">this</span>,</span><br><span class="line">      args = <span class="built_in">Array</span>.prototype.slice.apply(<span class="built_in">arguments</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> _this.apply(<span class="keyword">this</span>, args.concat(<span class="built_in">Array</span>.prototype.slice.apply(<span class="built_in">arguments</span>)));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 유닛 변환에 관한 파라미터들을 받고, 마지막으로 변환을 위한 input을 받는다.</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">unitConvert</span>(<span class="params">fromUnit, toUnit, factor, input</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;input&#125;</span> <span class="subst">$&#123;fromUnit&#125;</span> === <span class="subst">$&#123;(input*factor).toFixed(<span class="number">2</span>)&#125;</span> <span class="subst">$&#123;toUnit&#125;</span>`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 커링을 통해서 앞쪽의 3개의 파라미터를 채운 함수들을 리턴한다.</span></span><br><span class="line">  <span class="keyword">var</span> cm2inch = unitConvert.curry(<span class="string">'cm'</span>, <span class="string">'inch'</span>, <span class="number">0.393701</span>),</span><br><span class="line">    metersquare2pyoung = unitConvert.curry(<span class="string">'m^2'</span>, <span class="string">'pyoung'</span>, <span class="number">0.3025</span>),</span><br><span class="line">    kg2lb = unitConvert.curry(<span class="string">'kg'</span>, <span class="string">'lb'</span>, <span class="number">2.204623</span>),</span><br><span class="line">    kmph2mph = unitConvert.curry(<span class="string">'km/h'</span>, <span class="string">'mph'</span>, <span class="number">0.621371</span>);</span><br><span class="line">  <span class="comment">// 결과.</span></span><br><span class="line">  <span class="built_in">console</span>.log(cm2inch(<span class="number">10</span>)); <span class="comment">// 10 cm === 3.94 inch</span></span><br><span class="line">  <span class="built_in">console</span>.log(metersquare2pyoung(<span class="number">30</span>)); <span class="comment">// 30 m^2 === 9.07 pyoung</span></span><br><span class="line">  <span class="built_in">console</span>.log(kg2lb(<span class="number">50</span>)); <span class="comment">// 50 kg === 110.23 lb</span></span><br><span class="line">  <span class="built_in">console</span>.log(kmph2mph(<span class="number">100</span>)); <span class="comment">// 100 km/h === 62.14 mph</span></span><br><span class="line">&#125;());</span><br></pre></td></tr></table></figure>
<h4 id="XMLHttpRequest에-응용"><a href="#XMLHttpRequest에-응용" class="headerlink" title="XMLHttpRequest에 응용"></a>XMLHttpRequest에 응용</h4><p>커링을 이용해서 ajax함수를 get, put, post 등에 맞게 만들어서 사용할 수 있다.</p>
<figure class="highlight javascript"><figcaption><span>unit conversion</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 역시 똑같은 방법.</span></span><br><span class="line">  <span class="built_in">Function</span>.prototype.curry = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="built_in">arguments</span>.length &lt; <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">var</span> _this = <span class="keyword">this</span>,</span><br><span class="line">        args = <span class="built_in">Array</span>.prototype.slice.apply(<span class="built_in">arguments</span>);</span><br><span class="line">      <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> _this.apply(<span class="keyword">this</span>, args.concat(<span class="built_in">Array</span>.prototype.slice.apply(<span class="built_in">arguments</span>)));</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ajax 함수 가장 앞의 파라미터로 method를 받는다.</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">ajax</span>(<span class="params">method, url, data, callback</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">    xhr.open(method, url);</span><br><span class="line">    xhr.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (xhr.status === <span class="number">200</span>) &#123;</span><br><span class="line">        callback.call(<span class="keyword">this</span>, xhr.responseText);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    xhr.send(data);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 특정 method를 가진 ajax함수들을 생성할 수 있다.</span></span><br><span class="line">  <span class="keyword">var</span> ajaxGet = ajax.curry(<span class="string">"GET"</span>),</span><br><span class="line">    ajaxPost = ajax.curry(<span class="string">"POST"</span>),</span><br><span class="line">    ajaxPut = ajax.curry(<span class="string">"PUT"</span>),</span><br><span class="line">    ajaxDelete = ajax.curry(<span class="string">"DELETE"</span>);</span><br><span class="line">  ajaxGet(<span class="string">"/data"</span>, <span class="literal">null</span>, <span class="function"><span class="keyword">function</span>(<span class="params">responseText</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(responseText);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;());    </span><br></pre></td></tr></table></figure>
        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://soopdop.github.io/2017/06/29/Book-Deep-Javascript-5-9/" data-id="cjlvjejpu0067gwn2zdai7pzn" class="article-share-link"><i class="fa fa-share"></i>Share</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    
        <a href="http://soopdop.github.io/2017/06/29/Book-Deep-Javascript-5-9/#comments" class="article-comment-link disqus-comment-count" data-disqus-url="http://soopdop.github.io/2017/06/29/Book-Deep-Javascript-5-9/">Comments</a>
    

        </footer>
    </div>
    
        
<nav id="article-nav">
    
        <a href="/2017/06/29/Book-Deep-Javascript-6-9/" id="article-nav-newer" class="article-nav-link-wrap">
            <strong class="article-nav-caption">Newer</strong>
            <div class="article-nav-title">
                
                    [Book Summary] 속깊은 Javascript 6/9
                
            </div>
        </a>
    
    
        <a href="/2017/06/29/Book-Deep-Javascript-4-9/" id="article-nav-older" class="article-nav-link-wrap">
            <strong class="article-nav-caption">Older</strong>
            <div class="article-nav-title">[Book Summary] 속깊은 Javascript 4/9</div>
        </a>
    
</nav>


    
</article>


    
    
        <section id="comments">
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>
</section>
    

</section>
            
                
<aside id="sidebar">
   
        
    <div class="widget-wrap">
        <h3 class="widget-title">recent</h3>
        <div class="widget">
            <ul id="recent-post" class="no-thumbnail">
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/English/">English</a></p>
                            <p class="item-title"><a href="/2018/09/10/Note-입트영-2018-09-10/" class="title">[Note] 입트영 2018/09/10</a></p>
                            <p class="item-date"><time datetime="2018-09-09T23:51:17.000Z" itemprop="datePublished">2018-09-10</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/English/">English</a></p>
                            <p class="item-title"><a href="/2018/09/07/Note-입트영-2018-09-07/" class="title">[Note] 입트영 2018/09/07</a></p>
                            <p class="item-date"><time datetime="2018-09-07T05:47:05.000Z" itemprop="datePublished">2018-09-07</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/English/">English</a></p>
                            <p class="item-title"><a href="/2018/09/06/Note-입트영-2018-09-06/" class="title">[Note] 입트영 2018/09/06</a></p>
                            <p class="item-date"><time datetime="2018-09-06T00:25:31.000Z" itemprop="datePublished">2018-09-06</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/English/">English</a></p>
                            <p class="item-title"><a href="/2018/09/05/Note-입트영-2018-09-05/" class="title">[Note] 입트영 2018/09/05</a></p>
                            <p class="item-date"><time datetime="2018-09-05T00:17:28.000Z" itemprop="datePublished">2018-09-05</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/English/">English</a></p>
                            <p class="item-title"><a href="/2018/09/04/Note-입트영-2018-09-04/" class="title">[Note] 입트영 2018/09/04</a></p>
                            <p class="item-date"><time datetime="2018-09-03T23:59:58.000Z" itemprop="datePublished">2018-09-04</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">categories</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/English/">English</a><span class="category-list-count">235</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/programming/">programming</a><span class="category-list-count">11</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">archives</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a><span class="archive-list-count">46</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a><span class="archive-list-count">22</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a><span class="archive-list-count">25</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a><span class="archive-list-count">17</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a><span class="archive-list-count">25</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a><span class="archive-list-count">19</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a><span class="archive-list-count">17</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">October 2016</a><span class="archive-list-count">18</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a><span class="archive-list-count">1</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">tags</h3>
        <div class="widget">
            <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/400/">400</a><span class="tag-list-count">19</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/500E/">500E</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/500W/">500W</a><span class="tag-list-count">18</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/600W/">600W</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/English/">English</a><span class="tag-list-count">236</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Grammar/">Grammar</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Reading/">Reading</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/etc/">etc</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/grammar/">grammar</a><span class="tag-list-count">18</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/">java</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript-Book-Summary/">javascript, Book Summary</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript-jsfiddle/">javascript, jsfiddle</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/osd/">osd</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/reading/">reading</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/writing/">writing</a><span class="tag-list-count">8</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">tag cloud</h3>
        <div class="widget tagcloud">
            <a href="/tags/400/" style="font-size: 18.89px;">400</a> <a href="/tags/500E/" style="font-size: 13.33px;">500E</a> <a href="/tags/500W/" style="font-size: 17.78px;">500W</a> <a href="/tags/600W/" style="font-size: 14.44px;">600W</a> <a href="/tags/English/" style="font-size: 20px;">English</a> <a href="/tags/Grammar/" style="font-size: 12.22px;">Grammar</a> <a href="/tags/Reading/" style="font-size: 11.11px;">Reading</a> <a href="/tags/etc/" style="font-size: 16.67px;">etc</a> <a href="/tags/grammar/" style="font-size: 17.78px;">grammar</a> <a href="/tags/java/" style="font-size: 10px;">java</a> <a href="/tags/javascript-Book-Summary/" style="font-size: 15.56px;">javascript, Book Summary</a> <a href="/tags/javascript-jsfiddle/" style="font-size: 10px;">javascript, jsfiddle</a> <a href="/tags/osd/" style="font-size: 14.44px;">osd</a> <a href="/tags/reading/" style="font-size: 16.67px;">reading</a> <a href="/tags/writing/" style="font-size: 14.44px;">writing</a>
        </div>
    </div>

    
        
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">links</h3>
        <div class="widget">
            <ul>
                
            </ul>
        </div>
    </div>


    
    <div id="toTop" class="fa fa-angle-up"></div>
</aside>

            
        </div>
        <footer id="footer">
    <div class="outer">
        <div id="footer-info" class="inner">
            &copy; 2018 soopdop<br>
            Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="http://github.com/ppoffice">PPOffice</a>
        </div>
    </div>
</footer>
        
    
    <script>
    var disqus_config = function () {
        
            this.page.url = 'http://soopdop.github.io/2017/06/29/Book-Deep-Javascript-5-9/';
        
        this.page.identifier = 'Book-Deep-Javascript-5-9';
    };
    (function() { 
        var d = document, s = d.createElement('script');  
        s.src = '//' + 'soopdop' + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>




    
    
    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>
</html>